<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Phaser - ES6 - Webpack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta http-equiv="cleartype" content="on">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#ffffff">
    <link rel="manifest" href="/manifest.json">
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
        }
    </style>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>
<div id="content"></div>
<h3>Click on the game canvas to enter fullscreen mode</h3>
<!-- uncomment the line bellow for cordova feature -->
<!--<script type="text/javascript" src="cordova.js"></script>-->
<footer>Made by Mario Markov &copy; 2020</footer>
<div id="scoreForm" class="modal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Your nickname</h5>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <form id="nicknameForm">
                        <label for="username">Nickname</label>
                        <input type="text" name="username" class="form-control" id="username"
                               placeholder="Enter your nickname" required maxlength="10" autofocus>
                        <br/>
                        <button id="scoreBtn" type="submit" class="btn btn-primary">Submit</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="https://js.pusher.com/5.0/pusher.min.js"></script>
<script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
<script>
  (function ($) {
    'use strict'
    $(function () {
      var pusher = new Pusher('a2cc80fe5bb42c3481df', {
        cluster: 'eu',
        forceTLS: true,
        authEndpoint: 'https://zastrahovaite.online/api/pusher/auth'
      })

      window.pusher = pusher

      $('#scoreForm').modal({
        backdrop: 'static',
        keyboard: false
      })

      $('#username').focus();

      const localStorageUsername = localStorage.getItem('username')
      $('#username').val(localStorageUsername ? localStorageUsername : '')

      $('#nicknameForm').on('submit', function (e) {
        e.preventDefault();

        var username = $('#username').val()
        localStorage.setItem('username', username)

        $('#scoreForm').modal('hide')
      })
    })
  })(jQuery)
</script>
</body>

</html>
